##########################################################################
#
# WARNING: This file was generated by update.php. Do not edit it directly.
#
#

services:
  - docker

env:
  global:
    - DOCKER_USERNAME: garypendergast
    - secure: nquHgoUnw+6udq7bNh/pT2ftnoPWhzf5CdJzgwPTt4qLuHRAtcjywFRNtuF19XFSgVgulZtbFsUdwsa1V4aOyKDgYz5P7oc2e1uzWaqcJH6GlknJALT0lktwpuOlOAC40EFIoLO+oNxdIrvpJ2b9gnLHLvbKeo10Cat2TePeW/za1j40PgBcTC1FSbyfU08skefykzsPebJ94jFOiWbWi6opQq3CBZ8t7IPEg+xjw6l8Qj4Bj9n2cahSUO/jEc4xjIZlbyobOD13pXY0HinxnDZAwRRnwLI+GfZNCqnEqmSw/bCBUKen4VTpPVws2fwDjzH+bXs4MWISqiGSMHDsiQHX0sjR5u4abGb5XFHC1CaFw5hUe4kizuI3WyRJoYqQ6iOYiIT/jeYF1bli4pQwUrwrgF9cGvwsNlZcYWydwLu61vDa5wF7gJGlwwDUNx1F2ZdX71QGA2NyYS7USCfNffnG2kGVEfsx45IcDIt9npf+n00jtEK8UkoHm+eCgs2v4FjJ8Bn1Dllpw/zdCAoULnd2d9M8W9Xi8+VVs8nRu9DnlXVn43GMEkfKlWdkAyPlapKhSl6uNesjDoUxm3RUcpfHXswxeSYhcatMC8GE/2jJQJaFtRucRvjuo0p0u9K2FDvrWpDel7pqQ5SwT3YKAyCgnx3x8UGK3SbRlv8bD7E=

before_script: echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin

jobs:
  include:
    - stage: build base php images
      script:
      - docker build -t wordpressdevelop/php:5.2-fpm 5.2/php
      - docker images
      - docker push wordpressdevelop/php:5.2-fpm
      - docker build -t wordpressdevelop/php:5.3-fpm 5.3/php
      - docker images
      - docker push wordpressdevelop/php:5.3-fpm
      - docker build -t wordpressdevelop/php:5.4-fpm 5.4/php
      - docker images
      - docker push wordpressdevelop/php:5.4-fpm
      - docker build -t wordpressdevelop/php:5.5-fpm 5.5/php
      - docker images
      - docker push wordpressdevelop/php:5.5-fpm
      - docker build -t wordpressdevelop/php:5.6-fpm 5.6/php
      - docker images
      - docker push wordpressdevelop/php:5.6-fpm
      - docker build -t wordpressdevelop/php:7.0-fpm 7.0/php
      - docker images
      - docker push wordpressdevelop/php:7.0-fpm
      - docker build -t wordpressdevelop/php:7.1-fpm 7.1/php
      - docker images
      - docker push wordpressdevelop/php:7.1-fpm
      - docker build -t wordpressdevelop/php:7.2-fpm 7.2/php
      - docker images
      - docker push wordpressdevelop/php:7.2-fpm
      - docker build -t wordpressdevelop/php:7.3-fpm -t wordpressdevelop/php:latest 7.3/php
      - docker images
      - docker push wordpressdevelop/php:7.3-fpm
      - docker push wordpressdevelop/php:latest

    - stage: build child images
      script:
      - docker build -t wordpressdevelop/phpunit:5.2-fpm 5.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.2-fpm
      - docker build -t wordpressdevelop/phpunit:5.3-fpm 5.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.3-fpm
      - docker build -t wordpressdevelop/phpunit:5.4-fpm 5.4/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.4-fpm
      - docker build -t wordpressdevelop/phpunit:5.5-fpm 5.5/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.5-fpm
      - docker build -t wordpressdevelop/phpunit:5.6-fpm 5.6/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.6-fpm
      - docker build -t wordpressdevelop/phpunit:7.0-fpm 7.0/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.0-fpm
      - docker build -t wordpressdevelop/phpunit:7.1-fpm 7.1/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.1-fpm
      - docker build -t wordpressdevelop/phpunit:7.2-fpm 7.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.2-fpm
      - docker build -t wordpressdevelop/phpunit:7.3-fpm -t wordpressdevelop/phpunit:latest 7.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.3-fpm
      - docker push wordpressdevelop/phpunit:latest

    - script:
      - docker build -t wordpressdevelop/cli:5.2-fpm 5.2/cli
      - docker images
      - docker push wordpressdevelop/cli:5.2-fpm
      - docker build -t wordpressdevelop/cli:5.3-fpm 5.3/cli
      - docker images
      - docker push wordpressdevelop/cli:5.3-fpm
      - docker build -t wordpressdevelop/cli:5.4-fpm 5.4/cli
      - docker images
      - docker push wordpressdevelop/cli:5.4-fpm
      - docker build -t wordpressdevelop/cli:5.5-fpm 5.5/cli
      - docker images
      - docker push wordpressdevelop/cli:5.5-fpm
      - docker build -t wordpressdevelop/cli:5.6-fpm 5.6/cli
      - docker images
      - docker push wordpressdevelop/cli:5.6-fpm
      - docker build -t wordpressdevelop/cli:7.0-fpm 7.0/cli
      - docker images
      - docker push wordpressdevelop/cli:7.0-fpm
      - docker build -t wordpressdevelop/cli:7.1-fpm 7.1/cli
      - docker images
      - docker push wordpressdevelop/cli:7.1-fpm
      - docker build -t wordpressdevelop/cli:7.2-fpm 7.2/cli
      - docker images
      - docker push wordpressdevelop/cli:7.2-fpm
      - docker build -t wordpressdevelop/cli:7.3-fpm -t wordpressdevelop/cli:latest 7.3/cli
      - docker images
      - docker push wordpressdevelop/cli:7.3-fpm
      - docker push wordpressdevelop/cli:latest


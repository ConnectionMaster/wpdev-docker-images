##########################################################################
#
# WARNING: This file was generated by update.php. Do not edit it directly.
#
#

services:
  - docker

env:
  global:
    DOCKER_USERNAME: garypendergast
    secure: Fw5mRjdzDkwfsqiePDCXA+gFVFMvi7qyfLNJMcL2DJbRgSKkzk5vCJe9V9zjMBC0Y9jUWvQbBCFvBk+ydjSBKnRxysart/ahf9vWRV+zU2NtjbMukC74YypeEbpA5nKn3mLzewGJFFunydRtpS26J3aGCCAtD/4VTIao9LptPpsDyYdmJVjbKqxCShTGzOpZQQyGYk5ReaLCmRrKIiet3LcOJUeT3TVGDr9gT/tKjNHRCSx7wPWzwz9uYMD9KJR5MOE72quTKS4uXuekLpECdQ4eDW3EoDu9Bor7NXXy2iEz8fINqVisnXiQwRizG7vu0bImzw5KHMH7vDvXL66i+1yyhyBo2+6IIaB1cMtLM6OaihmDwa3GmKOEyr2G0TSY9nbwRtI2tw5vBBovm20FmJ5n19/fsaUvaXqS81MNJhluNO4ZqYYXICXHTfWxRdt4BH5l40STNzwPZhDavHjhTpodsUFBP8J5awOSAAhVWfTnoFI6cdOgY33fKT7cB8b7cMQq0lTVdtTOg9z+WxM+pBLNhLDFC5FmWFAY7PH2DDM8IkexV3xurRpNlMpL5amS64aqmvP/sHNiEFr5CujCrJTpeyf/pAjC/7QdUW7Gti5vat/omWg6KqNKpZrtxxb5VS1OohAD+8g1SoKUTx5nVR0Ukl6vNOfycFUBko/6jjw=

before_script: echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin

jobs:
  include:
    - stage: build base php images
      script:
      - docker build -t wordpressdevelop/php:5.2-fpm 5.2/php
      - docker images
      - docker push wordpressdevelop/php:5.2-fpm
      - docker build -t wordpressdevelop/php:5.3-fpm 5.3/php
      - docker images
      - docker push wordpressdevelop/php:5.3-fpm
      - docker build -t wordpressdevelop/php:5.4-fpm 5.4/php
      - docker images
      - docker push wordpressdevelop/php:5.4-fpm
      - docker build -t wordpressdevelop/php:5.5-fpm 5.5/php
      - docker images
      - docker push wordpressdevelop/php:5.5-fpm
      - docker build -t wordpressdevelop/php:5.6-fpm 5.6/php
      - docker images
      - docker push wordpressdevelop/php:5.6-fpm
      - docker build -t wordpressdevelop/php:7.0-fpm 7.0/php
      - docker images
      - docker push wordpressdevelop/php:7.0-fpm
      - docker build -t wordpressdevelop/php:7.1-fpm 7.1/php
      - docker images
      - docker push wordpressdevelop/php:7.1-fpm
      - docker build -t wordpressdevelop/php:7.2-fpm 7.2/php
      - docker images
      - docker push wordpressdevelop/php:7.2-fpm
      - docker build -t wordpressdevelop/php:7.3-fpm -t wordpressdevelop/php:latest 7.3/php
      - docker images
      - docker push wordpressdevelop/php:7.3-fpm
      - docker push wordpressdevelop/php:latest

    - stage: build child images
      script:
      - docker build -t wordpressdevelop/phpunit:5.2-fpm 5.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.2-fpm
      - docker build -t wordpressdevelop/phpunit:5.3-fpm 5.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.3-fpm
      - docker build -t wordpressdevelop/phpunit:5.4-fpm 5.4/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.4-fpm
      - docker build -t wordpressdevelop/phpunit:5.5-fpm 5.5/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.5-fpm
      - docker build -t wordpressdevelop/phpunit:5.6-fpm 5.6/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.6-fpm
      - docker build -t wordpressdevelop/phpunit:7.0-fpm 7.0/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.0-fpm
      - docker build -t wordpressdevelop/phpunit:7.1-fpm 7.1/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.1-fpm
      - docker build -t wordpressdevelop/phpunit:7.2-fpm 7.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.2-fpm
      - docker build -t wordpressdevelop/phpunit:7.3-fpm -t wordpressdevelop/phpunit:latest 7.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.3-fpm
      - docker push wordpressdevelop/phpunit:latest

    - script:
      - docker build -t wordpressdevelop/cli:5.2-fpm 5.2/cli
      - docker images
      - docker push wordpressdevelop/cli:5.2-fpm
      - docker build -t wordpressdevelop/cli:5.3-fpm 5.3/cli
      - docker images
      - docker push wordpressdevelop/cli:5.3-fpm
      - docker build -t wordpressdevelop/cli:5.4-fpm 5.4/cli
      - docker images
      - docker push wordpressdevelop/cli:5.4-fpm
      - docker build -t wordpressdevelop/cli:5.5-fpm 5.5/cli
      - docker images
      - docker push wordpressdevelop/cli:5.5-fpm
      - docker build -t wordpressdevelop/cli:5.6-fpm 5.6/cli
      - docker images
      - docker push wordpressdevelop/cli:5.6-fpm
      - docker build -t wordpressdevelop/cli:7.0-fpm 7.0/cli
      - docker images
      - docker push wordpressdevelop/cli:7.0-fpm
      - docker build -t wordpressdevelop/cli:7.1-fpm 7.1/cli
      - docker images
      - docker push wordpressdevelop/cli:7.1-fpm
      - docker build -t wordpressdevelop/cli:7.2-fpm 7.2/cli
      - docker images
      - docker push wordpressdevelop/cli:7.2-fpm
      - docker build -t wordpressdevelop/cli:7.3-fpm -t wordpressdevelop/cli:latest 7.3/cli
      - docker images
      - docker push wordpressdevelop/cli:7.3-fpm
      - docker push wordpressdevelop/cli:latest

